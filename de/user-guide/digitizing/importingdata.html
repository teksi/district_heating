

<!DOCTYPE html>
<html class="writer-html5" lang="de" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Importing data &mdash; TDH dev Dokumentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=9edc463e" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=419ed147"></script>
      <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../../_static/translations.js?v=9bf55d28"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../../genindex.html" />
    <link rel="search" title="Suche" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            TDH
              <img src="../../_static/tdh_logo32.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Dokumentation durchsuchen" aria-label="Dokumentation durchsuchen" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../features-guide/index.html">1. TEKSI district heating (TDH)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation-guide/index.html">2. TDH Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html">3. TDH User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">4. Admin Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation/index.html">5. Translation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">TDH</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Importing data</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/user-guide/digitizing/importingdata.rst.txt" rel="nofollow"> Quelltext anzeigen</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="importing-data">
<h1>Importing data<a class="headerlink" href="#importing-data" title="Link to this heading"></a></h1>
<p>It is quite easy to import data (geometry and attributes) from an external software.
Here is a general description and a specific example.</p>
<section id="general">
<h2>General<a class="headerlink" href="#general" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>You have to add the data you want to import as (vector) layer into the TWW project.</p></li>
<li><p>The field names of the attributes have to be the same as the field names of the TWW Layer.
If possible, prefer non limiting standard open formats like geopackage. When using shp-files, the 10 letters limitation of the dbf-format will fail to map correctly attributes (Alias field names do not work).</p></li>
<li><p>If you have a translated project, be sure to take the English field names (not the translated name that you find as Alias of the field).</p></li>
<li><p>If there is a field with value list, you have to use the code, not the plain text.</p></li>
<li><p>If your fields are prepared as described above, then just copy and paste in the TWW-layer.</p></li>
</ul>
<p>Why all these regulations: You copy the data not in the layer in our QGIS-project, but direct in the view or table in the postgresql-database. The database does not know anything about the configuration of the QGIS-project (alias names or value relations). In the database work just the triggers that are defined. So an obj_id will be created automatic.</p>
<p>If you want to import new values to existing records (e.g. update the field renovation_necessity of layer vw_tww_reach), you can not copy, because there are not new records. For these job you can work with QGIS fieldcalculator.</p>
</section>
<section id="example-importing-manholes-from-a-txt-file">
<h2>Example Importing manholes from a TXT-File:<a class="headerlink" href="#example-importing-manholes-from-a-txt-file" title="Link to this heading"></a></h2>
<p>The pictures were created in QGEP, but the steps are still the same in TWW</p>
<ul class="simple">
<li><p>Change the field names to identifier, x, y, co_level</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/importdata_txtfile.jpg" src="../../_images/importdata_txtfile.jpg" />
</figure>
<ul class="simple">
<li><p>Open the txt-file with <span class="menuselection">Layer ‣ Add Layer ‣ Add Delimited Text Layer…</span>.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/importdata_opentxtfile.jpg" src="../../_images/importdata_opentxtfile.jpg" />
</figure>
<ul class="simple">
<li><p>You have now a vector-layer with your points in the TWW-project</p></li>
<li><p>Select the points of the new layer</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/importdata_selectpoints.jpg" src="../../_images/importdata_selectpoints.jpg" />
</figure>
<ul class="simple">
<li><p>Choose <span class="menuselection">Edit ‣ Copy Features</span>.</p></li>
<li><p>Select the vw_tww_wastewater_structure layer and set it editable</p></li>
<li><p>Choose <span class="menuselection">Edit ‣ Paste Features</span>.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/importdata_5newpoints.jpg" src="../../_images/importdata_5newpoints.jpg" />
</figure>
<figure class="align-default">
<img alt="../../_images/importdata_5newpointstable.jpg" src="../../_images/importdata_5newpointstable.jpg" />
</figure>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>The ws_type is set as default to manhole. The identifier is used not only for the wastewater_structure, but also as cover_identifier and as wastewaternode_identifier.</p>
</div>
</section>
<section id="example-importing-manholes-with-attributes">
<h2>Example Importing manholes with attributes:<a class="headerlink" href="#example-importing-manholes-with-attributes" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Example to add additional attributes</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/importdata_txtfile2.jpg" src="../../_images/importdata_txtfile2.jpg" />
</figure>
<ul class="simple">
<li><p>The field ws_type is an exception. Possible values are manhole, special_structure, infiltration_installation, discharge_point.</p></li>
<li><p>For other fields with value lists you have to use the code.</p></li>
<li><p>In the example above, the values for ma_function in the row discharge_point or special_structure has no effect.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, The TDH Project www.teksi.ch.</p>
  </div>

  Erstellt mit <a href="https://www.sphinx-doc.org/">Sphinx</a> mit einem
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    bereitgestellt von <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>